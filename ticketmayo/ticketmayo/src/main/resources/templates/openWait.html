<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
	
	<!-- HEAD -->
	<th:block th:replace="fragments/common/head :: headFragment"></th:block>
	
	<!--begin::Body-->
	<body id="kt_app_body" 
		data-kt-app-layout="light-sidebar" 
		data-kt-app-sidebar-fixed="true" 
		data-kt-app-sidebar-push-header="true" 
		data-kt-app-sidebar-push-toolbar="true" 
		data-kt-app-sidebar-push-footer="true" 
		class="app-default"
	>
		
		<!--begin::Root-->
		<div class="d-flex flex-column flex-root" id="kt_app_root">

			<!--begin::Page-->
			<div class="app-page flex-column flex-column-fluid" id="kt_app_page">
				
				<!-- TOP -->
				<th:block th:replace="fragments/common/top :: topFragment"></th:block>	
				
				
				<div class="app-wrapper flex-column flex-row-fluid" id="kt_app_wrapper">
					<!-- SIDEBAR -->
					<th:block th:replace="fragments/common/sidebar :: sidebarFragment"></th:block>
					
					<!--begin::Main-->
					<div class="app-main flex-column flex-row-fluid" id="kt_app_main">
						<!--begin::Content wrapper-->
						<div class="d-flex flex-column flex-column-fluid">
							<!--begin::Content-->
							<div id="kt_app_content" class="app-content flex-column-fluid">
								<!-- CONTENT -->
								<th:block th:replace="contents/openWait :: openWaitFragment"></th:block>
							</div>
							<!--end::Content-->
						</div>
						<!--end::Content wrapper-->
						
						<!-- FOOTER -->
						<th:block th:replace="fragments/common/footer :: footerFragment"></th:block>
					</div>
					<!-- end::Main-->
				</div>
				<!-- #kt_app_wrapper -->
			</div>
			<!--end::Page-->
		</div>
		<!--end::Root-->
		
		<!-- COMMON SCRIPTS -->
		<th:block th:replace="fragments/common/scripts :: scriptsFragment"></th:block>
		
	</body>
	<!--end::Body-->
	<script>
	
	$(document).ready(function(){
		ajaxCall4Json('/openWait/api_v1_001', null, 'get' ,function(result){
			console.log(result);
			
			const list = result;
			let html = '';
			
			if (list.length === 0) {
				html += '<div class="d-flex flex-column justify-content-between h-100">';
				html += '<div class="pt-12">';
				html += '<h3 class="text-dark text-center fs-1 fw-bolder line-height-lg">데이터 점검중</h3>';
				html += '<div class="text-center text-gray-600 fs-5 fw-bold pt-4">잠시 점검중입니다...<br>이용에 불편을 드려 죄송합니다.</div>';
				html += '</div>';
				html += '</div>';
			}
			
			list.forEach(function(el, index){
				
				html += '<div class="col-md-6 col-xxl-4">';
				html += '<div class="card">';
				html += '<div class="card-body d-flex flex-center flex-column py-9 px-5">';
				html += '<div class="bgi-no-repeat bgi-size-cover rounded min-h-100px mb-5">';
				html += '<img src="' + el.image + '" alt="' + el.subject + '" width="150" />';
				html += '</div>';
				html += '<a href="' + el.link + '" target="_blank" class="fs-4 text-gray-800 text-hover-primary fw-bolder mb-0">' + el.subject + '</a>';
				html += '<div class="fw-bold text-gray-400 mb-6"></div>';
				html += '<div class="d-flex flex-center flex-wrap mb-5">';
				html += '<div class="border border-dashed rounded min-w-90px py-3 px-4 mx-2 mb-3">';
				html += '<div class="fs-6 fw-bolder text-gray-700">' + el.date + '</div>';
				html += '<div class="fw-bold text-gray-400">티켓팅 오픈일</div>';
				html += '</div>';
				html += '<div class="border border-dashed rounded min-w-90px py-3 px-4 mx-2 mb-3">';
				html += '<div class="fs-6 fw-bolder text-gray-700">' + el.site + '</div>';
				html += '<div class="fw-bold text-gray-400">구매처</div>';
				html += '</div>';
				html += '</div>';
				
				html += '<div class="symbol-group symbol-hover">';
				el.casting.forEach(function(actor){
					html += '<div class="symbol symbol-35px symbol-circle" data-bs-toggle="tooltip" data-bs-placement="top" title="' + actor.castingName + '">';
					html += '<img alt="' + actor.castingName + '" src="' + actor.castingImage + '">';
					html += '</div>';
				});
				html += '</div>';
				
				html += '</div>';
				html += '</div>';
				html += '</div>';
				
				if (index === 2) {
					html += '<div class="col-md-6 col-xxl-4">';
					html += '<div class="card">';
					html += '<div class="card-body d-flex flex-center flex-column py-9 px-5">';
					html += '<div class="bgi-no-repeat bgi-size-cover rounded min-h-250px mb-5">';
					html += '<img src="https://images.unsplash.com/photo-1604953622228-f705fd2dc641?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=250&q=80" alt="image" width="150" />';
					html += '</div>';
					html += '<a href="#" target="_blank" class="fs-4 text-gray-800 text-hover-primary fw-bolder mb-0">xxx 프로그램</a>';
					html += '<div class="fw-bold text-gray-400 mb-6"></div>';
					html += '<div class="d-flex flex-center flex-wrap mb-5">';
					html += '<div class="border border-dashed rounded min-w-90px py-3 px-4 mx-2 mb-3">';
					html += '<div class="fs-6 fw-bolder text-gray-700">[스폰서 광고] 티켓 구매 보조 프로그램</div>';
					html += '<div class="fw-bold text-gray-400 text-center">누구나 할 수 있는 쉽고 빠른 티켓팅 보조 프로그램</div>';
					html += '</div>';
					html += '</div>';
					html += '</div>';
					html += '</div>';
					html += '</div>';
				}
				
			});
			$('#content1').append(html);
			$('.list-cnt').text('(' + list.length + ')');
			$('body').tooltip({selector: '[data-bs-toggle="tooltip"]'});
		});
	})
	</script>
	
</html>